---
:scope: 
:url: http://cdn.rlcdn.com/js/ga.js?1483127871101
:body: ''
:status: 200
:method: get
:headers:
  Content-Type: text/javascript
  Content-Length: '2109'
  Connection: close
  Date: Fri, 12 Aug 2016 23:41:48 GMT
  Last-Modified: Tue, 15 Mar 2016 07:02:16 GMT
  ETag: '"2a325753205af96c81bf703b60ca3daa"'
  Accept-Ranges: bytes
  Server: AmazonS3
  Age: '69048'
  X-Cache: Hit from cloudfront
  Via: 1.1 bcecb6930c716682f92ebe69044fbe89.cloudfront.net (CloudFront)
  X-Amz-Cf-Id: VEYeOj7eivf8WbF1PbZ45y02jSvAf0gPWdd1h-xRcqdWsUlgkvd3mg==
:content: |
  (function() {

    var opt = window._lrc;
    var adwords_id = getOptValue("aw_lrid", opt);
    var ds_id = getOptValue("ds_lrid", opt);
    var test_mode = getOptValue("test_mode", opt);
    var debug = getOptValue("debug", opt);

    function printDebug(msg) {
      if (debug === true) {
        var elt = document.getElementById("debug");
        elt.innerHTML = elt.innerHTML + "<br/>" + msg;
      }
    }

    function getOptValue(value, array) {
      for (var i = 0; i < array.length; i++) {
        if (array[i][0] === value) {
          return array[i][1];
        }
      }
      return undefined;
    }

    function pingLiveRamp(customer_id, gclid, id) {
      var protocol = location.protocol === "https:" ? "https:" : "http:";
      var img = new Image();
      img.src = protocol + "//idsync.rlcdn.com/"+ customer_id + ".gif?n=" + id + "&partner_uid=" + gclid;
      printDebug("Fetching " + img.src);
      if (test_mode === true) {
        document.body.insertBefore(img, document.body.lastChild);
      }
    }

    function singleSafeSplit(s, c) {
      var res = ["",""];
      if (s) {
        var pos = s.indexOf(c);
        if (pos < 0) {
          pos = s.length;
        }
        res = [s.substring(0, pos), s.substring(pos + 1)];
      }
      return res;
    }

    function processGclid(s) {
      printDebug("Searching gclid in " + s);
      var processed = false;
      var query = singleSafeSplit(s, "?")[1];
      var params = query.split("&");
      for (var i = 0; i < params.length; i++) {
        var kv = singleSafeSplit(params[i], "=");
        if (kv[0] === "gclid") {
          var gclid = kv[1];
        }
        if (kv[0] === "gclsrc") {
          var type = kv[1];
        }
      }

      if (gclid) {
        if (adwords_id && (!type || type === "aw.ds")) {
          pingLiveRamp(adwords_id, gclid, 1);
          processed = true;
        }
        if (ds_id && (type === "aw.ds" || type === "ds")) {
          pingLiveRamp(ds_id, gclid, 2);
          processed = true;
        }
      }
      return processed;
    }

    function main() {
      var result = processGclid(window.location.search);
      if (result === false) {
        processGclid(document.referrer);
      }
    }

    main();

  })();
:request_headers:
  Accept: "*/*"
  Referer: http://www.homedepot.com/
  DNT: '1'
  User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:22.0) Gecko/20100101 Firefox/22.0
  Connection: Keep-Alive
  Accept-Encoding: gzip, deflate
  Accept-Language: en-US,*
  Host: cdn.rlcdn.com
