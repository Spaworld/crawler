---
:scope: 
:url: http://www.homedepot.com/content/node_modules/hfapp/scripts/source/header/header.hsflyout.js?v=e77fc1f
:body: ''
:status: 200
:method: get
:headers:
  Server: nginx
  Content-Type: application/javascript;charset=UTF-8
  Last-Modified: Tue, 27 Dec 2016 04:22:03 GMT
  Accept-Ranges:
  - bytes
  - bytes
  Content-Encoding: gzip
  Vary: Accept-Encoding
  X-Varnish: 33482187 33482188
  grace: none
  X-Varnish-Cache: MISS@default
  Content-Length: '1260'
  Cache-Control: max-age=7200
  Expires: Fri, 30 Dec 2016 20:20:10 GMT
  Date: Fri, 30 Dec 2016 18:20:10 GMT
  Connection: close
  Set-Cookie: MCC_THROTTLE=true; path=/; domain=.homedepot.com
:content: "/* globals define */\r\n/*\r\n  Purpose:\r\n    - UI controller for the
  flyoutDIY on the L1 navigation list.\r\n\r\n  Dependencies\r\n    - Mustache\r\n
  \   - jQuery\r\n    - Hoverintent\r\n    - THD Namespace\r\n*/\r\n\r\n(function
  closure(root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n
  \   define('header.hsflyout', ['jquery', 'mustache', 'header.data', 'header.analytics',
  'header.dropdownmodule', 'hoverIntent'],\r\n      function load(jQuery, Mustache,
  headerData, headerAnalytics, headerDDFlyout) {\r\n        return factory(root, jQuery,
  Mustache, headerData, headerAnalytics, headerDDFlyout);\r\n      });\r\n  } else
  {\r\n    // For non-AMD module, expose this to global (will also be useful for test
  cases)\r\n    /*eslint-disable*/\r\n    var _hfapp = THD.Utility.Namespace.createNamespace('THD.HFApp');\r\n
  \   _hfapp.flyoutHS = factory(root, jQuery, Mustache, THD.HFApp.data, THD.HFApp.analytics,
  THD.HFApp.dropdownflyout, $.hoverIntent);\r\n    /*eslint-enable*/\r\n  }\r\n})(this,
  function factory(root, $, Mustache, headerData, headerAnalytics, headerDDFlyout)
  {\r\n  var flyoutHS = {};\r\n  var privateMethods = {};\r\n\r\n  privateMethods.templates
  = {};\r\n\r\n  privateMethods.templates.hslist =  headerDDFlyout.templates.diyandhs;\r\n\r\n
  \ privateMethods.getFlyoutData = function getFlyoutData(){\r\n    var jsonPath =
  '/hdus/en_US/DTCCOMNEW/fetch/hsflyout.json';\r\n    var responseDataPromise = headerData.getEtchJSON(jsonPath);\r\n\r\n
  \   responseDataPromise.then(function _responseDataPromise(hsData){\r\n      var
  htmlContent = Mustache.render(privateMethods.templates.hslist, hsData.hsflyout);\r\n\r\n
  \     $('.hsFlyout').html(htmlContent);\r\n    });\r\n  };\r\n\r\n  privateMethods.toggleFlyoutData
  = function toggleFlyoutData(event){\r\n    var $this = $(this);\r\n    var menuID
  = $this.data('id');\r\n    var menuConfig = headerData.getMenuConfig();\r\n\r\n
  \   if (!headerData.isSurfacePro()){\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n
  \     if ($('.' + menuConfig[menuID].menuClass).hasClass(menuConfig[menuID].menuClass
  +'--open')){\r\n        headerDDFlyout.closeAllMenus(menuID);\r\n      } else {\r\n
  \       //headerMask.show();\r\n        headerDDFlyout.closeHeaderTooltips();\r\n
  \       privateMethods.getFlyoutData();\r\n      }\r\n    } else {\r\n      headerDDFlyout.closeAllMenus();\r\n
  \   }\r\n  };\r\n\r\n  privateMethods.triggerHoverintent = function _triggerHoverIntent()
  {\r\n    $(this).trigger({\r\n      type: 'hoverintent',\r\n      target: this\r\n
  \   });\r\n  };\r\n\r\n  // bind to all the necessary elements\r\n  privateMethods.initialize
  = function initialize() {\r\n    if(headerData.isDropDown()){\r\n    // delegate
  to all the things\r\n      $(document)\r\n        .on('hoverintent', '.Header3 .ShoppingLinks__link[data-id=\"homeServices\"]',
  privateMethods.getFlyoutData)\r\n        .on('click touchend', '.Header3 .ShoppingLinks__link[data-id=\"homeServices\"]',
  privateMethods.toggleFlyoutData)\r\n        .hoverIntent({\r\n          selector:
  '.Header3 .ShoppingLinks__link[data-id=\"homeServices\"]',\r\n          over: privateMethods.triggerHoverintent,\r\n
  \         out: $.noop\r\n        });\r\n      }\r\n  };\r\n\r\n  /*\r\n   * Public
  Methods\r\n   */\r\n\r\n  flyoutHS.init = function init() {\r\n    // Do it before
  ready - cause we rock\r\n    privateMethods.initialize();\r\n\r\n    // start loading
  the data now.\r\n    headerData.init();\r\n\r\n    headerAnalytics.init();\r\n\r\n
  \   return this;\r\n  };\r\n\r\n  flyoutHS.getPrivateMethods = function getPrivateMethods()
  {\r\n    return privateMethods;\r\n  };\r\n\r\n  return flyoutHS;\r\n});"
